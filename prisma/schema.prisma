generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id          String    @id @default(uuid())
  username    String    @unique
  password    String
  created_at  DateTime  @default(now())
  role        Role
  Quote       Quote[]

  @@map("users")
}

enum Role {
  ADMIN
  OPERATOR
  BASIC
}

model Quote {
  id              String           @id @default(uuid()) 
  uuid            String
  departure_loc   String
  destination_loc String
  departure_date  DateTime
  return_date     DateTime
  traveler_qty    Int
  transportation  TransportMethod
  contact_info    String
  status          QuoteStatus
  price           Int
  user            User          @relation(fields:[userId], references: [id])
  userId          String

  @@map("quotes")
}

enum QuoteStatus {
  OPEN
  WAITING_PAYMENT
  CLOSED
}

enum TransportMethod {
  CAR
  BUS
  PLANE
  TELETRANSPORT
}


